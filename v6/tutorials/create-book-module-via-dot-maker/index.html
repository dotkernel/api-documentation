<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="description" content="Dotkernel API">
        
        

        
        
            
        
        <meta name="docsearch:version" content="6.0.0,latest">
        <meta name="docsearch:language" content="en">
        <meta name="docsearch:component" content="api">

        
        <link rel="canonical" href="https://docs.dotkernel.org/api-documentation/v6/tutorials/create-book-module-via-dot-maker/">
        
        <link rel="shortcut icon" href="https://docs.dotkernel.org/img/dk_docs_favicon_white.svg">

        <title>Creating a book module using dotkernel/dot-maker - api - Dotkernel Documentation</title>

        <link rel="stylesheet" href="https://docs.dotkernel.org/css/bootstrap.css">
        <link rel="stylesheet" href="https://docs.dotkernel.org/css/bootstrap-icons.min.css">
        <link rel="stylesheet" href="https://docs.dotkernel.org/css/docs.css">
        <script src="https://docs.dotkernel.org//js/bootstrap.js" defer></script>
        <script src="https://docs.dotkernel.org//js/docs.js" defer></script>
        <script src="https://docs.dotkernel.org//js/scripts.js" defer></script>
    </head>
    <body data-bs-spy="scroll" data-bs-target=".toc" data-bs-offset="100">

        
        <nav class="navbar navbar-expand-lg bg-body-tertiary bg-light dk-nav py-3" data-bs-theme="light">
    <div class="container justify-content-between">
        <div class="dk-nav-icon d-flex align-items-center">
            <a class="navbar-brand" href="https://docs.dotkernel.org/">
                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50"
                     src="https://docs.dotkernel.org//img/dk_logomark_white.svg" width="45"/>
            </a>

            <div class="dk-nav-icon-items">
                <span style="font-size: 12px; line-height: 13px">Dotkernel Documentation</span>

                <div class="dropdown" data-bs-theme="light">
                    <span class="fw-bold dropdown-toggle dk-pkg-name" data-bs-toggle="dropdown" aria-expanded="false">API</span>
                    <ul class="dropdown-menu">
                        
                        <li class="dropdown-item bg-light">
                            <a href="https://docs.dotkernel.org/api-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">API</span>
                                    <span>Dotkernel API</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/admin-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Admin</span>
                                    <span>Dotkernel Admin</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/frontend-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Frontend</span>
                                    <span>Dotkernel Frontend</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/light-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Light</span>
                                    <span>Dotkernel Light</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/queue-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Queue</span>
                                    <span>Dotkernel Queue</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/packages/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Packages</span>
                                    <span>Dotkernel packages</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/development/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Development</span>
                                    <span>WSL2 Development Environment</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/headless-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Headless Platform</span>
                                    <span>Dotkernel Headless Platform</span>
                                </div>
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
<!--                <li class="nav-item">-->
<!--                    <a href="#" class="nav-link fw-bold text-white" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal" title="Open search">-->
<!--                        <i class="bi bi-search"></i> Search-->
<!--                    </a>-->
<!--                </li>-->
                <li class="nav-item">
                    <a class="nav-link fw-bold text-white" href="https://github.com/dotkernel/api" title="Go to api repository" target="_blank">
                        <i class="bi bi-github"></i>
                        GitHub
                    </a>
                </li>
                <li class="nav-item">
                    
    
    <div class="version-selector">
        <div class="btn-group">
            <button type="button" class="btn dropdown-toggle bg-light" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false" id="version-selector-dropdown">
                
                    v6
                
            </button>
            <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left" aria-labelledby="version-selector-dropdown">
                
                
                <a href="../../introduction/introduction/" class="dropdown-item active">
                    
                        v6 (latest)
                    
                </a>
                
                
                
                <a href="../../../v5/introduction/introduction/" class="dropdown-item">
                    
                        v5
                    
                </a>
                
                
                
                <a href="../../../v4/introduction/introduction/" class="dropdown-item">
                    
                        v4
                    
                </a>
                
                
            </div>
        </div>
    </div>
    

                </li>
            </ul>
        </div>
    </div>
</nav>

        
        <div class="container">
    <nav aria-label="breadcrumb" class="nav_breadcrumb">
        <ol class="breadcrumb">
            
                <li class="breadcrumb-item"><a href="https://docs.dotkernel.org/">Overview</a></li>
                

                
                    <li class="breadcrumb-item"><a href="../../..">api</a></li>

                    
                        
                            
                            
                        
                    
                        
                            
                            
                                <li class="breadcrumb-item">Tutorials</li>
                            
                        
                    

                    <li class="breadcrumb-item active" aria-current="page">Creating a book module using dotkernel/dot-maker</li>
                
            
        </ol>
    </nav>
</div>

        
        <div class="container">
            <div class="row">
                <div class="col-lg-3 right_sidebar">
                    
                    
    <div class="subnavigation hidden-print">
<!--        <h4 class="subnavigation__title">-->
<!--            <a href="../../..">api</a>-->
<!--        </h4>-->

        <h5 class="subnavigation__title">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                
                    
                        
<li class="subnavigation__list-item ">
    <a href="../../introduction/introduction/" class="subnavigation__link">Introduction</a>
</li>

                    
                        



















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#overview" role="button" aria-expanded="false" aria-controls="overview">
        <span class="subnavigation__headline">Overview</span>
    </a>
    <ul class="subnavigation__list collapse" id="overview">
        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/server-requirements/" class="subnavigation__link">Server Requirements</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/file-structure/" class="subnavigation__link">File Structure</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/packages/" class="subnavigation__link">Packages</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/psr/" class="subnavigation__link">PSRs</a>
</li>

        
    </ul>
</li>

                    
                        



























<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#installation" role="button" aria-expanded="false" aria-controls="installation">
        <span class="subnavigation__headline">Installation</span>
    </a>
    <ul class="subnavigation__list collapse" id="installation">
        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/getting-started/" class="subnavigation__link">Getting Started</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/composer/" class="subnavigation__link">Composer</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/configuration-files/" class="subnavigation__link">Configuration Files</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/doctrine-orm/" class="subnavigation__link">Doctrine ORM</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/test-the-installation/" class="subnavigation__link">Test the Installation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/faq/" class="subnavigation__link">FAQ</a>
</li>

        
    </ul>
</li>

                    
                        





















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#upgrading" role="button" aria-expanded="false" aria-controls="upgrading">
        <span class="subnavigation__headline">Upgrading</span>
    </a>
    <ul class="subnavigation__list collapse" id="upgrading">
        
        
<li class="subnavigation__list-item ">
    <a href="../../upgrading/upgrading/" class="subnavigation__link">Upgrade procedure</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../upgrading/UPGRADE-6.0/" class="subnavigation__link">Upgrading 5.* to 6.0</a>
</li>

        
    </ul>
</li>

                    
                        











<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#flow" role="button" aria-expanded="false" aria-controls="flow">
        <span class="subnavigation__headline">Flow</span>
    </a>
    <ul class="subnavigation__list collapse" id="flow">
        
        
<li class="subnavigation__list-item ">
    <a href="../../flow/middleware-flow/" class="subnavigation__link">Middleware Flow</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../flow/default-library-flow/" class="subnavigation__link">Default Library Flow</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../flow/library-flow-for-email/" class="subnavigation__link">Library Flow for Email</a>
</li>

        
    </ul>
</li>

                    
                        





























<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#core-features" role="button" aria-expanded="false" aria-controls="core-features">
        <span class="subnavigation__headline">Core Features</span>
    </a>
    <ul class="subnavigation__list collapse" id="core-features">
        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/authentication/" class="subnavigation__link">Authentication</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/authorization/" class="subnavigation__link">Authorization</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/content-validation/" class="subnavigation__link">Content Validation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/exceptions/" class="subnavigation__link">Exceptions</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/dependency-injection/" class="subnavigation__link">Dependency Injection</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/error-reporting/" class="subnavigation__link">Error reporting</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/rendering-and-sending-emails/" class="subnavigation__link">Rendering and Sending emails</a>
</li>

        
    </ul>
</li>

                    
                        





































<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#extended-features" role="button" aria-expanded="false" aria-controls="extended-features">
        <span class="subnavigation__headline">Extended features</span>
    </a>
    <ul class="subnavigation__list collapse" id="extended-features">
        
        
<li class="subnavigation__list-item ">
    <a href="../../extended-features/core-and-app/" class="subnavigation__link">Core and App</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../extended-features/handler-structure/" class="subnavigation__link">New Handler Structure</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../extended-features/route-grouping/" class="subnavigation__link">Route Grouping</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../extended-features/problem-details/" class="subnavigation__link">Problem Details</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../extended-features/injectable-input-filters/" class="subnavigation__link">Injectable Input Filters</a>
</li>

        
    </ul>
</li>

                    
                        



















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#commands" role="button" aria-expanded="false" aria-controls="commands">
        <span class="subnavigation__headline">Commands</span>
    </a>
    <ul class="subnavigation__list collapse" id="commands">
        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/create-admin-account/" class="subnavigation__link">Create admin account</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/generate-database-migrations/" class="subnavigation__link">Generate database migrations</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/display-available-endpoints/" class="subnavigation__link">Display available endpoints</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/generate-tokens/" class="subnavigation__link">Generate tokens</a>
</li>

        
    </ul>
</li>

                    
                        





















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#tutorials" role="button" aria-expanded="false" aria-controls="tutorials">
        <span class="subnavigation__headline">Tutorials</span>
    </a>
    <ul class="subnavigation__list collapse" id="tutorials">
        
        
<li class="subnavigation__list-item ">
    <a href="../cors/" class="subnavigation__link">Setting up CORS</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../create-book-module/" class="subnavigation__link">Creating a book module</a>
</li>

        
        
<li class="subnavigation__list-item subnavigation__list-item--active">
    <a href="./" class="subnavigation__link">Creating a book module using dotkernel/dot-maker</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../token-authentication/" class="subnavigation__link">Token authentication</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../api-evolution/" class="subnavigation__link">API Evolution</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../find-user-by-identity/" class="subnavigation__link">Find user by identity</a>
</li>

        
    </ul>
</li>

                    
                        





















































<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#transition-from-api-tools" role="button" aria-expanded="false" aria-controls="transition-from-api-tools">
        <span class="subnavigation__headline">Transition from API Tools</span>
    </a>
    <ul class="subnavigation__list collapse" id="transition-from-api-tools">
        
        
<li class="subnavigation__list-item ">
    <a href="../../transition-from-api-tools/api-tools-vs-dotkernel-api/" class="subnavigation__link">Laminas API Tools vs Dotkernel API</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../transition-from-api-tools/transition-approach/" class="subnavigation__link">Transition Approach</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../transition-from-api-tools/discovery-phase/" class="subnavigation__link">Discovery Phase</a>
</li>

        
    </ul>
</li>

                    
                        

















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#openapi" role="button" aria-expanded="false" aria-controls="openapi">
        <span class="subnavigation__headline">OpenAPI</span>
    </a>
    <ul class="subnavigation__list collapse" id="openapi">
        
        
<li class="subnavigation__list-item ">
    <a href="../../openapi/introduction/" class="subnavigation__link">Introduction</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../openapi/initialized-components/" class="subnavigation__link">Initialized Components</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../openapi/write-documentation/" class="subnavigation__link">Write Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../openapi/generate-documentation/" class="subnavigation__link">Generate Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../openapi/render-documentation/" class="subnavigation__link">Render Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../openapi/use-documentation/" class="subnavigation__link">Use Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../openapi/getting-help/" class="subnavigation__link">Getting Help</a>
</li>

        
    </ul>
</li>

                    
                        





















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#reference" role="button" aria-expanded="false" aria-controls="reference">
        <span class="subnavigation__headline">Reference</span>
    </a>
    <ul class="subnavigation__list collapse" id="reference">
        
        
<li class="subnavigation__list-item ">
    <a href="../../reference/account-anonymization/" class="subnavigation__link">Anonymize Accounts</a>
</li>

        
    </ul>
</li>

                    
                
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            
        </ul>
    </div>

                    

                    
                    
                    
    

    
    
        <div class="toc">
            <h6 class="toc__headline">On this page</h6>
            <ul class="toc__list">
            
                <li class="toc__entry">
                    <a href="#folder-and-files-structure" class="toc__link nav-link">Folder and files structure</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#file-creation-and-contents" class="toc__link nav-link">File creation and contents</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#migrations" class="toc__link nav-link">Migrations</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#update-the-authorization-file" class="toc__link nav-link">Update the authorization file</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#checking-endpoints" class="toc__link nav-link">Checking endpoints</a>
                </li>
            
            </ul>
        </div>
    

                    
                </div>
                <div class="col-lg-9 main_docs">
                    
                    




    
    
<!--        <h2 class="chapter__headline text-black-50">Tutorials</h2>-->
    

    <h1 id="implementing-a-book-module-in-dotkernel-api-using-dotkerneldot-maker">Implementing a book module in Dotkernel API using dotkernel/dot-maker</h1>
<p>The <code>dotkernel/dot-maker</code> library can be used to programmatically generate project files and directories.
It can be added to your API installation by following the <a href="https://docs.dotkernel.org/dot-maker/">official documentation</a>.</p>
<h2 id="folder-and-files-structure">Folder and files structure</h2>
<p>The below files structure is what we will have at the end of this tutorial and is just an example,
you can have multiple components such as event listeners, wrappers, etc.</p>
<pre class="highlight"><code class="language-markdown">.
└── src/
    ├── Book/
    │   └── src/
    │       ├── Collection/
    │       │   └── BookCollection.php
    │       ├── Handler/
    │       │   ├── GetBookCollectionHandler.php
    │       │   ├── GetBookResourceHandler.php
    │       │   └── PostBookResourceHandler.php
    │       ├── InputFilter/
    │       │   ├── Input/
    │       │   │   ├── AuthorInput.php
    │       │   │   ├── NameInput.php
    │       │   │   └── ReleaseDateInput.php
    │       │   └── CreateBookInputFilter.php
    │       ├── Service/
    │       │   ├── BookService.php
    │       │   └── BookServiceInterface.php
    │       ├── ConfigProvider.php
    │       └── RoutesDelegator.php
    └── Core/
        └── src/
            └── Book/
                └── src/
                    ├──Entity/
                    │   └──Book.php
                    ├──Repository/
                    │   └──BookRepository.php
                    └── ConfigProvider.php</code></pre>
<ul>
<li><code>src/Book/src/Collection/BookCollection.php</code> – a collection refers to a container for a group of related objects, typically used to manage sets of related entities fetched from a database</li>
<li><code>src/Book/src/Handler/GetBookCollectionHandler.php</code> – handler that reflects the GET action for the BookCollection class</li>
<li><code>src/Book/src/Handler/GetBookResourceHandler.php</code> – handler that reflects the GET action for the Book entity</li>
<li><code>src/Book/src/Handler/PostBookResourceHandler.php</code> – handler that reflects the POST action for the Book entity</li>
<li><code>src/Book/src/InputFilter/Input/*</code> – input filters and validator configurations</li>
<li><code>src/Book/src/InputFilter/CreateBookInputFilter.php</code> – input filters and validators</li>
<li><code>src/Book/src/Service/BookService.php</code> – is a class or component responsible for performing a specific task or providing functionality to other parts of the application</li>
<li><code>src/Book/src/Service/BookServiceInterface.php</code> – interface that reflects the publicly available methods in <code>BookService</code></li>
<li><code>src/Book/src/ConfigProvider.php</code> – is a class that provides configuration for various aspects of the framework or application</li>
<li><code>src/Book/src/RoutesDelegator.php</code> – a routes delegator is a delegator factory responsible for configuring routing middleware based on routing configuration provided by the application</li>
<li><code>src/Core/src/Book/src/Entity/Book.php</code> – an entity refers to a PHP class that represents a persistent object or data structure</li>
<li><code>src/Core/src/Book/src/Repository/BookRepository.php</code> – a repository is a class responsible for querying and retrieving entities from the database</li>
<li><code>src/Core/src/Book/src/ConfigProvider.php</code> – is a class that provides configuration for Doctrine ORM</li>
</ul>
<h2 id="file-creation-and-contents">File creation and contents</h2>
<p>After successfully installing <code>dot-maker</code>, it can be used to generate the Book module.
Invoke <code>dot-maker</code> by executing <code>./vendor/bin/dot-maker</code> or via the optional script described in the documentation - <code>composer make</code>.
This will list all component types that can be created - for the purposes of this tutorial, enter <code>module</code>:</p>
<pre class="highlight"><code class="language-shell">./vendor/bin/dot-maker module</code></pre>
<p>Type <code>book</code> when prompted to enter the module name.</p>
<p>Next you will be prompted to add the relevant components of a module, accepting <code>y(es)</code>, <code>n(o)</code> and <code>Enter</code> (defaults to <code>yes</code>):</p>
<blockquote>
<p>Note that <code>dot-maker</code> will automatically split the files into the described <code>Api</code> and <code>Core</code> structure without a further input needed.</p>
</blockquote>
<ul>
<li><code>Entity and repository</code> (Y): will generate the <code>Book.php</code> entity and the associated <code>BookRepository.php</code>.</li>
<li><code>Service</code> and <code>service interface</code> (Y): will generate the <code>BookService</code> and the <code>BookServiceInterface</code>.</li>
<li><code>Command</code>, followed by <code>middleware</code>(N): not necessary for the module described in this tutorial.</li>
<li><code>Handler</code> (Y): this option is needed, and will further prompt you for the required actions.<ul>
<li><code>Allow listing Books?</code> (Y): this will generate both the <code>GetBookResourceHandler.php</code> class and the <code>BookCollection.php</code> it uses.</li>
<li><code>Allow viewing Books?</code> (Y): will generate the single resource GET action handler - <code>GetBookResourceHandler.php</code>.</li>
<li><code>Allow creating Books?</code> (Y): will generate the POST action handler for the <code>Book</code> entity - <code>PostBookResourceHandler.php</code>, as well as the input filter used for validating the data - <code>CreateBookInputFilter.php</code>.</li>
<li><code>Allow deleting Books?</code>, <code>Allow editing Books?</code> and <code>Allow replacing Books?</code> (N): will generate handlers that reflect the DELETE, PATCH and PUT actions respectively, but are not necessary for this tutorial.</li>
</ul>
</li>
<li>Following this step, <code>dot-maker</code> will automatically generate the <code>ConfigProvider.php</code> classes for both the <code>Api</code> and <code>Core</code> namespaces, as well as the <code>OpenAPI.php</code> class which automatically documents the previously generated routes.</li>
</ul>
<p>You will then be instructed to:</p>
<ul>
<li>Register the <code>ConfigProvider</code> classes by adding <code>Api\Book\ConfigProvider::class</code> and <code>Core\Computer\ConfigProvider::class</code> to <code>config/config.php</code></li>
<li>Register the new <code>Book</code> namespace by adding <code>"Api\\Book\\": "src/Book/src/"</code> and <code>"Core\\Book\\": "src/Core/src/Book/src/"</code> to <code>composer.json</code> under the <code>autoload.psr-4</code> key.<ul>
<li>After registering the namespace, run the following command to regenerate the autoloaded files, as notified by <code>dot-maker</code>:</li>
</ul>
</li>
</ul>
<pre class="highlight"><code class="language-shell">composer dump</code></pre>
<ul>
<li><code>dot-maker</code> will by default prompt you to generate the migrations for the new entity, but for the purpose of this tutorial
we will run this after updating the generated entity.</li>
</ul>
<p>The next step is filling in the required logic for the proposed flow of this module.
While <code>dot-maker</code> does also include common logic in the relevant files, the tutorial adds custom functionality.
As such, the following section will go over the files that require changes.</p>
<ul>
<li><code>src/Core/src/Book/src/Entity/Book.php</code></li>
</ul>
<p>To keep things simple in this tutorial, our book will have three properties: <code>name</code>, <code>author</code> and <code>releaseDate</code>.
Add the three properties and their getters and setters, while making sure to update the generated constructor method.</p>
<pre class="highlight"><code class="language-php">&lt;?php

declare(strict_types=1);

namespace Core\Book\Entity;

use Core\App\Entity\AbstractEntity;
use Core\App\Entity\TimestampsTrait;
use Core\Book\Repository\BookRepository;
use DateTimeImmutable;
use Doctrine\ORM\Mapping as ORM;

#[ORM\Entity(repositoryClass: BookRepository::class)]
#[ORM\Table("book")]
#[ORM\HasLifecycleCallbacks]
class Book extends AbstractEntity
{
    use TimestampsTrait;

    #[ORM\Column(name: "name", type: "string", length: 100)]
    protected string $name;

    #[ORM\Column(name: "author", type: "string", length: 100)]
    protected string $author;

    #[ORM\Column(name: "releaseDate", type: "datetime_immutable")]
    protected DateTimeImmutable $releaseDate;

    public function __construct(string $name, string $author, DateTimeImmutable $releaseDate)
    {
        parent::__construct();

        $this-&gt;setName($name);
        $this-&gt;setAuthor($author);
        $this-&gt;setReleaseDate($releaseDate);
    }

    public function getName(): string
    {
        return $this-&gt;name;
    }

    public function setName(string $name): self
    {
        $this-&gt;name = $name;

        return $this;
    }

    public function getAuthor(): string
    {
        return $this-&gt;author;
    }

    public function setAuthor(string $author): self
    {
        $this-&gt;author = $author;

        return $this;
    }

    public function getReleaseDate(): DateTimeImmutable
    {
        return $this-&gt;releaseDate;
    }

    public function setReleaseDate(DateTimeImmutable $releaseDate): self
    {
        $this-&gt;releaseDate = $releaseDate;

        return $this;
    }

    public function getArrayCopy(): array
    {
        return [
            'uuid'        =&gt; $this-&gt;getUuid()-&gt;toString(),
            'name'        =&gt; $this-&gt;getName(),
            'author'      =&gt; $this-&gt;getAuthor(),
            'releaseDate' =&gt; $this-&gt;getReleaseDate(),
        ];
    }
}
</code></pre>
<p>The <code>BookService</code> class will require minor modifications for the <code>getBooks()</code> and <code>saveBook()</code> methods, to add the custom properties added in the previous step.
The class should look like the following after updating the methods.</p>
<ul>
<li><code>src/Book/src/Service/BookService.php</code></li>
</ul>
<pre class="highlight"><code class="language-php">&lt;?php

declare(strict_types=1);

namespace Api\Book\Service;

use Core\App\Helper\Paginator;
use Core\Book\Entity\Book;
use Core\Book\Repository\BookRepository;
use DateTimeImmutable;
use Doctrine\ORM\QueryBuilder;
use Dot\DependencyInjection\Attribute\Inject;

use function in_array;

class BookService implements BookServiceInterface
{
    #[Inject(
        BookRepository::class,
    )]
    public function __construct(
        protected BookRepository $bookRepository,
    ) {
    }

    public function getBookRepository(): BookRepository
    {
        return $this-&gt;bookRepository;
    }

    public function deleteBook(
        Book $book,
    ): void {
        $this-&gt;bookRepository-&gt;deleteResource($book);
    }

    /**
     * @param array&lt;non-empty-string, mixed&gt; $params
     */
    public function getBooks(
        array $params,
    ): QueryBuilder {
        $filters = $params['filters'] ?? [];
        $params  = Paginator::getParams($params, 'book.created');

        $sortableColumns = [
            'book.name',
            'book.author',
            'book.releaseDate',
            'book.created',
        ];
        if (! in_array($params['sort'], $sortableColumns, true)) {
            $params['sort'] = 'book.created';
        }

        return $this-&gt;bookRepository-&gt;getBooks($params, $filters);
    }

    /**
     * @param array&lt;non-empty-string, mixed&gt; $data
     */
    public function saveBook(
        array $data,
        ?Book $book = null,
    ): Book {
        if (! $book instanceof Book) {
            $book = new Book(
                $data['name'],
                $data['author'],
                new DateTimeImmutable($data['releaseDate'])
            );
        }

        $this-&gt;bookRepository-&gt;saveResource($book);

        return $book;
    }
}
</code></pre>
<p>When creating or updating a book, we will need some validators, so we will create input filters that will be used to validate the data received in the request.</p>
<p>By creating a <code>module</code> with <code>dot-maker</code>, separate inputs will not be created.
However, you can still generate them as using these steps:</p>
<ul>
<li>Run the following to start adding <code>Input</code> classes:</li>
</ul>
<pre class="highlight"><code class="language-shell">./vendor/bin/dot-maker input</code></pre>
<ul>
<li>When prompted, enter the names <code>Author</code>, <code>Name</code> and <code>ReleaseDate</code> one by one to generate the classes.</li>
<li>The resulting <code>AuthorInput.php</code>, <code>NameInput.php</code> and <code>ReleaseDateInput.php</code> classes require no further changes for the tutorial use case.</li>
</ul>
<p>The module creation process has generated the parent input filter <code>CreateBookInputFilter.php</code> with an empty constructor.
Now we add all the inputs together in the parent input filter's <code>__construct</code>, as below:</p>
<ul>
<li><code>src/Book/src/InputFilter/CreateBookInputFilter.php</code></li>
</ul>
<pre class="highlight"><code class="language-php">&lt;?php

declare(strict_types=1);

namespace Api\Book\InputFilter;

use Api\Book\InputFilter\Input\AuthorInput;
use Api\Book\InputFilter\Input\NameInput;
use Api\Book\InputFilter\Input\ReleaseDateInput;
use Core\App\InputFilter\AbstractInputFilter;

class CreateBookInputFilter extends AbstractInputFilter
{
    public function __construct()
    {
        $this-&gt;add(new NameInput('name'));
        $this-&gt;add(new AuthorInput('author'));
        $this-&gt;add(new ReleaseDateInput('releaseDate'));
    }
}
</code></pre>
<p>We create separate <code>Input</code> files to demonstrate their reusability and obtain a clean <code>CreateBookInputFilter</code> but you could have all the inputs created directly in the <code>CreateBookInputFilter</code> like this:</p>
<blockquote>
<p>Note that <code>dot-maker</code> will not generate inputs in the constructor, so the following are to be added by hand <strong>if</strong> going for this approach.</p>
</blockquote>
<pre class="highlight"><code class="language-php">$nameInput = new Input();
$nameInput-&gt;setRequired(true);

$nameInput-&gt;getFilterChain()
    -&gt;attachByName(StringTrim::class)
    -&gt;attachByName(StripTags::class);

$nameInput-&gt;getValidatorChain()
    -&gt;attachByName(NotEmpty::class, [
        'message' =&gt; Message::VALIDATOR_REQUIRED_FIELD,
    ], true);

$this-&gt;add($nameInput);

$authorInput = new Input();
$authorInput-&gt;setRequired(true);

$authorInput-&gt;getFilterChain()
    -&gt;attachByName(StringTrim::class)
    -&gt;attachByName(StripTags::class);

$authorInput-&gt;getValidatorChain()
    -&gt;attachByName(NotEmpty::class, [
        'message' =&gt; Message::VALIDATOR_REQUIRED_FIELD,
    ], true);

$this-&gt;add($authorInput);

$releaseDateInput = new Input();
$releaseDateInput-&gt;setRequired(true);

$releaseDateInput-&gt;getFilterChain()
    -&gt;attachByName(StringTrim::class)
    -&gt;attachByName(StripTags::class);

$releaseDateInput-&gt;getValidatorChain()
    -&gt;attachByName(NotEmpty::class, [
        'message' =&gt; Message::VALIDATOR_REQUIRED_FIELD,
    ], true);

$this-&gt;add($releaseDateInput);</code></pre>
<h2 id="migrations">Migrations</h2>
<p>All changes are done, so at this point the migration file can be generated to create the associated table for the <code>Book</code> entity.</p>
<blockquote>
<p>You can check the mapping files by running:</p>
</blockquote>
<pre class="highlight"><code class="language-shell">php ./bin/doctrine orm:validate-schema</code></pre>
<blockquote>
<p>Generate the migration files by running:</p>
</blockquote>
<pre class="highlight"><code class="language-shell">php ./vendor/bin/doctrine-migrations diff</code></pre>
<p>This will check for differences between your entities and database structure and create migration files if necessary, in <code>src/Core/src/App/src/Migration</code>.</p>
<p>To execute the migrations run:</p>
<pre class="highlight"><code class="language-shell">php ./vendor/bin/doctrine-migrations migrate</code></pre>
<h2 id="update-the-authorization-file">Update the authorization file</h2>
<p>We need to configure access to the newly created endpoints.
Open <code>config/autoload/authorization.global.php</code> and append the below route names to the <code>UserRoleEnum::Guest-&gt;value</code> key:</p>
<ul>
<li><code>book::list-books</code></li>
<li><code>book::view-book</code></li>
<li><code>book::create-book</code></li>
</ul>
<blockquote>
<p>Make sure you read and understand the <code>rbac</code> <a href="https://docs.dotkernel.org/dot-rbac-guard/v4/configuration/">documentation</a>.</p>
</blockquote>
<h2 id="checking-endpoints">Checking endpoints</h2>
<p>First, we start a local server by executing:</p>
<pre class="highlight"><code class="language-shell">composer serve</code></pre>
<p>If we did everything as planned, we should be able to create a new book by executing the below command:</p>
<pre class="highlight"><code class="language-shell">curl -X POST http://0.0.0.0:8080/book
  -H "Content-Type: application/json"
  -d '{"name": "test", "author": "author name", "releaseDate": "2025-08-21"}'</code></pre>
<p>To list the books use:</p>
<pre class="highlight"><code class="language-shell">curl http://0.0.0.0:8080/books</code></pre>
<p>To fetch a book, <code>curl</code> one of the links found in the output of the <strong>list books</strong> command, under <code>_embedded</code> . <code>books</code> . * . <code>_links</code> . <code>self</code> . <code>href</code>.</p>
<p>The link should have the following format:</p>
<pre class="highlight"><code class="language-shell">curl http://0.0.0.0:8080/book/{uuid}</code></pre>




    <nav>
    <ul class="list-unstyled page-nav row w-100 mt-5 mb-3 pt-5 pb-3">
        
        <li class="col text-nowrap text-md-start">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../create-book-module/">
                    <i class="bi bi-chevron-left"></i>
                    Creating a book module
                </a>
            
        </li>

        
        <li class="col text-nowrap text-md-end pe-0">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../token-authentication/">
                    Token authentication
                    <i class="bi bi-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>



                    
                </div>
            </div>
        </div>

        
        <footer class="footer">
    <div class="container">
        <hr class="mb-5" />

        <div class="row">
            <div class="col-md-9">
                <div class="row">
                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">API</p>

                        <a href="https://docs.dotkernel.org/api-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for building RESTful APIs
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Admin</p>

                        <a href="https://docs.dotkernel.org/admin-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for admin applications
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Frontend</p>

                        <a href="https://docs.dotkernel.org/frontend-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for frontend applications
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Light</p>

                        <a href="https://docs.dotkernel.org/light-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for generating a simple website
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Dotkernel Packages</p>

                        <a href="https://docs.dotkernel.org/packages/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel packages offering a wide range of tools
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Development environment</p>

                        <a href="https://docs.dotkernel.org/development/">
                            <i class="bi bi-arrow-return-right"></i>
                            Install PHP, Apache, MariaDB, Composer, PhpMyAdmin, Node.js and Git on WSL2
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-md-3 pt-3 mt-1">
                <ul class="support__list row">
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://github.com/dotkernel" class="support__link" title="GitHub" target="_blank">
                            <i class="bi bi-github"></i> GitHub
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://dotkernel.slack.com" class="support__link" title="Chat" target="_blank">
                            <i class="bi bi-slack"></i> Slack
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://twitter.com/dotkernel" class="support__link" title="X (Twitter)" target="_blank">
                            <i class="bi bi-twitter-x"></i> Twitter
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://www.dotkernel.com/blog/" class="support__link" title="Blog" target="_blank">
                            <i class="bi bi-file-post"></i> Blog
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://www.dotkernel.com/feed/" class="support__link" title="Blog feed" target="_blank">
                            <i class="bi bi-rss-fill"></i> Feed
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <hr class="mt-5" />

        <div class="footer_copy">
            &#169; Copyright Dotkernel 2024. All rights reserved.
        </div>
    </div>
</footer>

        <script>
            let base_url = '../../..',
                project  = "api",
                siteName = 'api';

                document.addEventListener("DOMContentLoaded", function() {
                    document.querySelectorAll('.subnavigation__link').forEach(function(link) {
                        if (link.getAttribute('href') === './') {
                            link.parentNode.parentNode.classList.add('show');
                        }
                    });
                });
        </script>
<!--        -->
<!--        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search in api" id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
        </div>
    </div>
</div>-->
    </body>
</html>
