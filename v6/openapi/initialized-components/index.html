<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="description" content="Dotkernel API">
        
        

        
        
            
        
        <meta name="docsearch:version" content="6.0.0,latest">
        <meta name="docsearch:language" content="en">
        <meta name="docsearch:component" content="api">

        
        <link rel="canonical" href="https://docs.dotkernel.org/api-documentation/v6/openapi/initialized-components/">
        
        <link rel="shortcut icon" href="https://docs.dotkernel.org/img/dk_docs_favicon_white.svg">

        <title>Initialized Components - api - Dotkernel Documentation</title>

        <link rel="stylesheet" href="https://docs.dotkernel.org/css/bootstrap.css">
        <link rel="stylesheet" href="https://docs.dotkernel.org/css/bootstrap-icons.min.css">
        <link rel="stylesheet" href="https://docs.dotkernel.org/css/docs.css">
        <script src="https://docs.dotkernel.org//js/bootstrap.js" defer></script>
        <script src="https://docs.dotkernel.org//js/docs.js" defer></script>
        <script src="https://docs.dotkernel.org//js/scripts.js" defer></script>
    </head>
    <body data-bs-spy="scroll" data-bs-target=".toc" data-bs-offset="100">

        
        <nav class="navbar navbar-expand-lg bg-body-tertiary bg-light dk-nav py-3" data-bs-theme="light">
    <div class="container justify-content-between">
        <div class="dk-nav-icon d-flex align-items-center">
            <a class="navbar-brand" href="https://docs.dotkernel.org/">
                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50"
                     src="https://docs.dotkernel.org//img/dk_logomark_white.svg" width="45"/>
            </a>

            <div class="dk-nav-icon-items">
                <span style="font-size: 12px; line-height: 13px">Dotkernel Documentation</span>

                <div class="dropdown" data-bs-theme="light">
                    <span class="fw-bold dropdown-toggle dk-pkg-name" data-bs-toggle="dropdown" aria-expanded="false">API</span>
                    <ul class="dropdown-menu">
                        
                        <li class="dropdown-item bg-light">
                            <a href="https://docs.dotkernel.org/api-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">API</span>
                                    <span>Dotkernel API</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/admin-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Admin</span>
                                    <span>Dotkernel Admin</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/frontend-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Frontend</span>
                                    <span>Dotkernel Frontend</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/light-documentation/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Light</span>
                                    <span>Dotkernel Light</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/packages/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Packages</span>
                                    <span>Dotkernel packages</span>
                                </div>
                            </a>
                        </li>
                        
                        <li class="dropdown-item ">
                            <a href="https://docs.dotkernel.org/development/" class="nav-link d-flex gap-4 align-items-center">
                                <img alt="Dotkernel Logo" class="d-inline-block align-text-top" height="50" src="https://docs.dotkernel.org/img/dk_logomark.svg" width="45" />
                                <div>
                                    <span class="fw-bold d-block">Development</span>
                                    <span>WSL2 Development Environment</span>
                                </div>
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
<!--                <li class="nav-item">-->
<!--                    <a href="#" class="nav-link fw-bold text-white" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal" title="Open search">-->
<!--                        <i class="bi bi-search"></i> Search-->
<!--                    </a>-->
<!--                </li>-->
                <li class="nav-item">
                    <a class="nav-link fw-bold text-white" href="https://github.com/dotkernel/api" title="Go to api repository" target="_blank">
                        <i class="bi bi-github"></i>
                        GitHub
                    </a>
                </li>
                <li class="nav-item">
                    
<div class="version-selector">
    <div class="btn-group">
        <button type="button" class="btn dropdown-toggle bg-light" data-toggle="dropdown" data-display="static" aria-haspopup="true" aria-expanded="false" id="version-selector-dropdown">
            
                v6
            
        </button>
        <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-left" aria-labelledby="version-selector-dropdown">
            
                
                    <a href="../../introduction/introduction/" class="dropdown-item active">
                        
                            v6 (latest)
                        
                    </a>
                
            
                
                    <a href="../../../v5/introduction/introduction/" class="dropdown-item">
                        
                            v5
                        
                    </a>
                
            
                
                    <a href="../../../v4/introduction/introduction/" class="dropdown-item">
                        
                            v4
                        
                    </a>
                
            
        </div>
    </div>
</div>

                </li>
            </ul>
        </div>
    </div>
</nav>

        
        <div class="container">
    <nav aria-label="breadcrumb" class="nav_breadcrumb">
        <ol class="breadcrumb">
            
                <li class="breadcrumb-item"><a href="https://docs.dotkernel.org/">Overview</a></li>
                

                
                    <li class="breadcrumb-item"><a href="../../..">api</a></li>

                    
                        
                            
                            
                        
                    
                        
                            
                            
                                <li class="breadcrumb-item">OpenAPI</li>
                            
                        
                    

                    <li class="breadcrumb-item active" aria-current="page">Initialized Components</li>
                
            
        </ol>
    </nav>
</div>

        
        <div class="container">
            <div class="row">
                <div class="col-lg-3 right_sidebar">
                    
                    
    <div class="subnavigation hidden-print">
<!--        <h4 class="subnavigation__title">-->
<!--            <a href="../../..">api</a>-->
<!--        </h4>-->

        <h5 class="subnavigation__title">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                
                    
                        
<li class="subnavigation__list-item ">
    <a href="../../introduction/introduction/" class="subnavigation__link">Introduction</a>
</li>

                    
                        



















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#overview" role="button" aria-expanded="false" aria-controls="overview">
        <span class="subnavigation__headline">Overview</span>
    </a>
    <ul class="subnavigation__list collapse" id="overview">
        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/server-requirements/" class="subnavigation__link">Server Requirements</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/file-structure/" class="subnavigation__link">File Structure</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/packages/" class="subnavigation__link">Packages</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../introduction/psr/" class="subnavigation__link">PSRs</a>
</li>

        
    </ul>
</li>

                    
                        



























<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#installation" role="button" aria-expanded="false" aria-controls="installation">
        <span class="subnavigation__headline">Installation</span>
    </a>
    <ul class="subnavigation__list collapse" id="installation">
        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/getting-started/" class="subnavigation__link">Getting Started</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/composer/" class="subnavigation__link">Composer</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/configuration-files/" class="subnavigation__link">Configuration Files</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/doctrine-orm/" class="subnavigation__link">Doctrine ORM</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/test-the-installation/" class="subnavigation__link">Test the Installation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../installation/faq/" class="subnavigation__link">FAQ</a>
</li>

        
    </ul>
</li>

                    
                        





















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#upgrading" role="button" aria-expanded="false" aria-controls="upgrading">
        <span class="subnavigation__headline">Upgrading</span>
    </a>
    <ul class="subnavigation__list collapse" id="upgrading">
        
        
<li class="subnavigation__list-item ">
    <a href="../../upgrading/upgrading/" class="subnavigation__link">Upgrade procedure</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../upgrading/UPGRADE-6.0/" class="subnavigation__link">Upgrading 5.* to 6.0</a>
</li>

        
    </ul>
</li>

                    
                        











<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#flow" role="button" aria-expanded="false" aria-controls="flow">
        <span class="subnavigation__headline">Flow</span>
    </a>
    <ul class="subnavigation__list collapse" id="flow">
        
        
<li class="subnavigation__list-item ">
    <a href="../../flow/middleware-flow/" class="subnavigation__link">Middleware Flow</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../flow/default-library-flow/" class="subnavigation__link">Default Library Flow</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../flow/library-flow-for-email/" class="subnavigation__link">Library Flow for Email</a>
</li>

        
    </ul>
</li>

                    
                        





























<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#core-features" role="button" aria-expanded="false" aria-controls="core-features">
        <span class="subnavigation__headline">Core Features</span>
    </a>
    <ul class="subnavigation__list collapse" id="core-features">
        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/authentication/" class="subnavigation__link">Authentication</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/authorization/" class="subnavigation__link">Authorization</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/content-validation/" class="subnavigation__link">Content Validation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/exceptions/" class="subnavigation__link">Exceptions</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/dependency-injection/" class="subnavigation__link">Dependency Injection</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../core-features/error-reporting/" class="subnavigation__link">Error reporting</a>
</li>

        
    </ul>
</li>

                    
                        





































<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#extended-features" role="button" aria-expanded="false" aria-controls="extended-features">
        <span class="subnavigation__headline">Extended features</span>
    </a>
    <ul class="subnavigation__list collapse" id="extended-features">
        
        
<li class="subnavigation__list-item ">
    <a href="../../extended-features/core-and-app/" class="subnavigation__link">Core and App</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../extended-features/handler-structure/" class="subnavigation__link">New Handler Structure</a>
</li>

        
    </ul>
</li>

                    
                        



















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#commands" role="button" aria-expanded="false" aria-controls="commands">
        <span class="subnavigation__headline">Commands</span>
    </a>
    <ul class="subnavigation__list collapse" id="commands">
        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/create-admin-account/" class="subnavigation__link">Create admin account</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/generate-database-migrations/" class="subnavigation__link">Generate database migrations</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/display-available-endpoints/" class="subnavigation__link">Display available endpoints</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../commands/generate-tokens/" class="subnavigation__link">Generate tokens</a>
</li>

        
    </ul>
</li>

                    
                        





















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#tutorials" role="button" aria-expanded="false" aria-controls="tutorials">
        <span class="subnavigation__headline">Tutorials</span>
    </a>
    <ul class="subnavigation__list collapse" id="tutorials">
        
        
<li class="subnavigation__list-item ">
    <a href="../../tutorials/cors/" class="subnavigation__link">Setting up CORS</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../tutorials/create-book-module/" class="subnavigation__link">Creating a book module</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../tutorials/token-authentication/" class="subnavigation__link">Token authentication</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../tutorials/api-evolution/" class="subnavigation__link">API Evolution</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../tutorials/find-user-by-identity/" class="subnavigation__link">Find user by identity</a>
</li>

        
    </ul>
</li>

                    
                        





















































<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#transition-from-api-tools" role="button" aria-expanded="false" aria-controls="transition-from-api-tools">
        <span class="subnavigation__headline">Transition from API Tools</span>
    </a>
    <ul class="subnavigation__list collapse" id="transition-from-api-tools">
        
        
<li class="subnavigation__list-item ">
    <a href="../../transition-from-api-tools/api-tools-vs-dotkernel-api/" class="subnavigation__link">Laminas API Tools vs Dotkernel API</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../transition-from-api-tools/transition-approach/" class="subnavigation__link">Transition Approach</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../../transition-from-api-tools/discovery-phase/" class="subnavigation__link">Discovery Phase</a>
</li>

        
    </ul>
</li>

                    
                        

















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#openapi" role="button" aria-expanded="false" aria-controls="openapi">
        <span class="subnavigation__headline">OpenAPI</span>
    </a>
    <ul class="subnavigation__list collapse" id="openapi">
        
        
<li class="subnavigation__list-item ">
    <a href="../introduction/" class="subnavigation__link">Introduction</a>
</li>

        
        
<li class="subnavigation__list-item subnavigation__list-item--active">
    <a href="./" class="subnavigation__link">Initialized Components</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../write-documentation/" class="subnavigation__link">Write Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../generate-documentation/" class="subnavigation__link">Generate Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../render-documentation/" class="subnavigation__link">Render Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../use-documentation/" class="subnavigation__link">Use Documentation</a>
</li>

        
        
<li class="subnavigation__list-item ">
    <a href="../getting-help/" class="subnavigation__link">Getting Help</a>
</li>

        
    </ul>
</li>

                    
                        





















<li class="subnavigation__list-item">
    <a data-bs-toggle="collapse" href="#reference" role="button" aria-expanded="false" aria-controls="reference">
        <span class="subnavigation__headline">Reference</span>
    </a>
    <ul class="subnavigation__list collapse" id="reference">
        
        
<li class="subnavigation__list-item ">
    <a href="../../reference/account-anonymization/" class="subnavigation__link">Anonymize Accounts</a>
</li>

        
    </ul>
</li>

                    
                
            

                
                

                    
                    
                
            

                
                

                    
                    
                
            
        </ul>
    </div>

                    

                    
                    
                    
    

    
    
        <div class="toc">
            <h6 class="toc__headline">On this page</h6>
            <ul class="toc__list">
            
                <li class="toc__entry">
                    <a href="#oainfo" class="toc__link nav-link">OA\Info</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#oaserver" class="toc__link nav-link">OA\Server</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#oasecurityscheme" class="toc__link nav-link">OA\SecurityScheme</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#oaexternaldocumentation" class="toc__link nav-link">OA\ExternalDocumentation</a>
                </li>
            
                <li class="toc__entry">
                    <a href="#oaschema" class="toc__link nav-link">OA\Schema</a>
                </li>
            
            </ul>
        </div>
    

                    
                </div>
                <div class="col-lg-9 main_docs">
                    
                    




    
    
<!--        <h2 class="chapter__headline text-black-50">OpenAPI</h2>-->
    

    <h1 id="initialized-openapi-components">Initialized OpenAPI components</h1>
<p>Below you will find details on some prepopulated OpenAPI components we added to Dotkernel API.</p>
<h2 id="oainfo">OA\Info</h2>
<p>Defined in <code>src/App/src/OpenAPI.php</code>, this object provides general info about the API:</p>
<ul>
<li><code>version</code>: API version (example: <code>1.0.0</code>)</li>
<li><code>title</code>: title shown in the UI (example: <code>Dotkernel API</code>)</li>
</ul>
<p>For more info, see <a href="https://spec.openapis.org/oas/latest.html#info-object">this page</a>.</p>
<h2 id="oaserver">OA\Server</h2>
<p>Defined in <code>src/App/src/OpenAPI.php</code>, this object provides API server entries:</p>
<ul>
<li><code>url</code>: API server URL (example: <code>https://api.example.com</code> - use no trailing slash!)</li>
<li><code>description</code>: describes the purpose of the server (example: <code>Dev</code>, <code>Staging</code>, <code>Production</code> or even <code>Auth</code> if you use
a separate authentication server)</li>
</ul>
<p>You can have multiple <code>Server</code> definitions, one for each of your Dotkernel API instances.</p>
<p>For more info, see <a href="https://spec.openapis.org/oas/latest.html#server-object">this page</a>.</p>
<h2 id="oasecurityscheme">OA\SecurityScheme</h2>
<p>Defined in <code>src/App/src/OpenAPI.php</code>, you will find an object for the <code>AuthToken</code> security header:</p>
<ul>
<li><code>securityScheme</code>: the name of the security scheme - you will provide this to indicate that an endpoint is protected</li>
<li><code>type</code>: whether it's an API key, an authorization header etc</li>
<li><code>in</code>: indicates where the scheme is applied (<code>query</code>/<code>header</code>/<code>cookie</code>)</li>
<li><code>bearerFormat</code>: a hint to the client to identify how the bearer token is formatted</li>
<li><code>scheme</code>: the name of the authorization scheme to be used</li>
</ul>
<p>And another object for the <code>ErrorReportingToken</code> security token:</p>
<ul>
<li><code>securityScheme</code>: the name of the security scheme - you will provide this to indicate that an endpoint is protected</li>
<li><code>type</code>: whether it's an API key, an authorization header etc</li>
<li><code>in</code>: indicates where the scheme is applied (<code>query</code>/<code>header</code>/<code>cookie</code>)</li>
<li><code>name</code>: the name of the header</li>
</ul>
<p>For more info, see <a href="https://spec.openapis.org/oas/latest.html#security-scheme-object">this page</a>.</p>
<h2 id="oaexternaldocumentation">OA\ExternalDocumentation</h2>
<p>Defined in <code>src/App/src/OpenAPI.php</code>, in this object we provide the following details:</p>
<ul>
<li><code>description</code>: describes the purpose of the document</li>
<li><code>url</code>: external documentation URL</li>
</ul>
<p>For more info, see <a href="https://spec.openapis.org/oas/latest.html#external-documentation-object">this page</a>.</p>
<h2 id="oaschema">OA\Schema</h2>
<p>Schemas are OpenAPI objects describing an object or collection of objects existing in your project.</p>
<h3 id="schemas-describing-objects">Schemas describing objects</h3>
<p>In order to describe an object (entity) you will need to transform in into a schema.</p>
<p>Object:</p>
<pre class="highlight"><code class="language-php">&lt;?php

declare(strict_types=1);

namespace Api\User\Entity;

use Api\App\Entity\AbstractEntity;
use Api\App\Entity\RoleInterface;
use Api\App\Entity\TimestampsTrait;
use Doctrine\ORM\Mapping as ORM;

class UserRole extends AbstractEntity implements RoleInterface
{
    use TimestampsTrait;

    #[ORM\Column(name: "name", type: "string", length: 20, unique: true)]
    protected ?string $name = null;

    // methods
}</code></pre>
<p>Schema:</p>
<pre class="highlight"><code class="language-php">&lt;?php

declare(strict_types=1);

namespace Api\User;

use Api\User\Entity\UserRole;
use OpenApi\Attributes as OA;

...

/**
 * @see UserRole
 */
#[OA\Schema(
    schema: 'UserRole',
    properties: [
        new OA\Property(property: 'uuid', type: 'string', example: '1234abcd-abcd-4321-12ab-123456abcdef'),
        new OA\Property(property: 'name', type: 'string', example: UserRole::ROLE_USER),
        new OA\Property(
            property: '_links',
            properties: [
                new OA\Property(
                    property: 'self',
                    properties: [
                        new OA\Property(
                            property: 'href',
                            type: 'string',
                            example: 'https://example.com/user/role/1234abcd-abcd-4321-12ab-123456abcdef',
                        ),
                    ],
                    type: 'object',
                ),
            ],
            type: 'object',
        ),
    ],
    type: 'object',
)]</code></pre>
<p>Then, when generating the documentation file, <code>OpenAPI</code> will transform it into the specified format (<strong>json</strong>/<strong>yaml</strong>).</p>
<pre class="highlight"><code class="language-yaml">UserRole:
  properties:
    uuid:
      type: string
      example: 1234abcd-abcd-4321-12ab-123456abcdef
    name:
      type: string
      example: user
    _links:
      properties:
        self:
          properties:
            href:
              type: string
              example: 'https://example.com/user/role/1234abcd-abcd-4321-12ab-123456abcdef'
          type: object
      type: object
  type: object</code></pre>
<h3 id="schemas-describing-collections-of-objects">Schemas describing collections of objects</h3>
<p>Collections of objects are just as easy to describe in <code>OpenAPI</code> as they are in PHP.</p>
<p>PHP collection:</p>
<pre class="highlight"><code class="language-php">&lt;?php

declare(strict_types=1);

namespace Api\User\Collection;

use Api\App\Collection\ResourceCollection;

class UserRoleCollection extends ResourceCollection
{
}</code></pre>
<p>Schema:</p>
<pre class="highlight"><code class="language-php">#[OA\Schema(
    schema: 'UserRoleCollection',
    properties: [
        new OA\Property(
            property: '_embedded',
            properties: [
                new OA\Property(
                    property: 'roles',
                    type: 'array',
                    items: new OA\Items(
                        ref: '#/components/schemas/UserRole',
                    ),
                ),
            ],
            type: 'object',
        ),
    ],
    type: 'object',
    allOf: [
        new OA\Schema(ref: '#/components/schemas/Collection'),
    ],
)]</code></pre>
<p>Using <code>ref: '#/components/schemas/UserRole',</code> in our code, we instruct <code>OpenAPI</code> to grab the existing schema <code>UserRole</code>
(not the entity, but the schema) that we just described earlier. This way we do not need to repeat code by describing
again the same object and any future modifications will happen in only one place.</p>
<p>Then, when generating the documentation file, <code>OpenAPI</code> will transform it into the specified format (<strong>json</strong>/<strong>yaml</strong>).</p>
<pre class="highlight"><code class="language-php">UserRoleCollection:
  type: object
  allOf:
    -
      $ref: '#/components/schemas/Collection'
    -
      properties:
        _embedded:
          properties:
            roles:
              type: array
              items: { $ref: '#/components/schemas/UserRole' }
          type: object
      type: object</code></pre>
<blockquote>
<p>Make sure that in <code>src/App/src/OpenAPI.php</code>, on the line with <code>#[OA\Server</code> the value of <code>url</code> is set to the of URL of
your instance of <strong>Dotkernel API</strong>.</p>
<p>You can add multiple servers (for staging, production etc) by duplicating the existing one.</p>
</blockquote>
<p>For more info, see <a href="https://spec.openapis.org/oas/latest.html#schema">this page</a>.</p>
<h3 id="common-schemas">Common schemas</h3>
<p>We provided some schemas that are reusable across the entire project. They are defined in <code>src/App/src/OpenAPI.php</code>:</p>
<ul>
<li><code>#/components/schemas/Collection</code>: provides the default <strong>HAL</strong> structure to all the collections extending it</li>
<li><code>#/components/schemas/ErrorMessage</code>: describes an operation that resulted in an error - may contain multiple messages</li>
<li><code>#/components/schemas/InfoMessage</code>: describes an operation that completed successfully - may contain multiple messages</li>
</ul>




    <nav>
    <ul class="list-unstyled page-nav row w-100 mt-5 mb-3 pt-5 pb-3">
        
        <li class="col text-nowrap text-md-start">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../introduction/">
                    <i class="bi bi-chevron-left"></i>
                    Introduction
                </a>
            
        </li>

        
        <li class="col text-nowrap text-md-end pe-0">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../write-documentation/">
                    Write Documentation
                    <i class="bi bi-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>



                    
                </div>
            </div>
        </div>

        
        <footer class="footer">
    <div class="container">
        <hr class="mb-5" />

        <div class="row">
            <div class="col-md-9">
                <div class="row">
                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">API</p>

                        <a href="https://docs.dotkernel.org/api-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for building RESTful APIs
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Admin</p>

                        <a href="https://docs.dotkernel.org/admin-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for admin applications
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Frontend</p>

                        <a href="https://docs.dotkernel.org/frontend-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for frontend applications
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Light</p>

                        <a href="https://docs.dotkernel.org/light-documentation/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel web starter project suitable for generating a simple website
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Dotkernel Packages</p>

                        <a href="https://docs.dotkernel.org/packages/">
                            <i class="bi bi-arrow-return-right"></i>
                            Dotkernel packages offering a wide range of tools
                        </a>
                    </div>

                    <div class="col-lg-4 col-md-6 dk_widget">
                        <p class="ms-0">Development environment</p>

                        <a href="https://docs.dotkernel.org/development/">
                            <i class="bi bi-arrow-return-right"></i>
                            Install PHP, Apache, MariaDB, Composer, PhpMyAdmin, Node.js and Git on WSL2
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-md-3 pt-3 mt-1">
                <ul class="support__list row">
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://github.com/dotkernel" class="support__link" title="GitHub" target="_blank">
                            <i class="bi bi-github"></i> GitHub
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://dotkernel.slack.com" class="support__link" title="Chat" target="_blank">
                            <i class="bi bi-slack"></i> Slack
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://twitter.com/dotkernel" class="support__link" title="X (Twitter)" target="_blank">
                            <i class="bi bi-twitter-x"></i> Twitter
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://www.dotkernel.com/blog/" class="support__link" title="Blog" target="_blank">
                            <i class="bi bi-file-post"></i> Blog
                        </a>
                    </li>
                    <li class="support__list-item col-lg-6 mb-md-3">
                        <a href="https://www.dotkernel.com/feed/" class="support__link" title="Blog feed" target="_blank">
                            <i class="bi bi-rss-fill"></i> Feed
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <hr class="mt-5" />

        <div class="footer_copy">
            &#169; Copyright Dotkernel 2024. All rights reserved.
        </div>
    </div>
</footer>

        <script>
            let base_url = '../../..',
                project  = "api",
                siteName = 'api';

                document.addEventListener("DOMContentLoaded", function() {
                    document.querySelectorAll('.subnavigation__link').forEach(function(link) {
                        if (link.getAttribute('href') === './') {
                            link.parentNode.parentNode.classList.add('show');
                        }
                    });
                });
        </script>
<!--        -->
<!--        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search in api" id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
        </div>
    </div>
</div>-->
    </body>
</html>
